filter(Sample.Size=="736") #%>%
##largest sample location
big_samp_place<- opioid_df %>%
filter(Sample.Size=="736") %>%
pull(Location)
##Data frame for only Iran
iran_df<- opioid_df %>%
filter(Location=="Iran") %>%
select()
##Data frame for only Iran
iran_df<- opioid_df %>%
filter(Location=="Iran")
##Dataframe for only USA
usa_df<-opioid_df %>%
filter(Location=="USA")
usa_pharma_num<- usa_df %>%
filter(If.pharma=="pharma")
View(usa_df)
usa_pharma_num<- usa_df %>%
filter(Treatment=="pharma")
usa_pharma_num<- usa_df %>%
filter(Treatment=="pharma") %>%
nrow()
usa_pharma_num<- usa_df %>%
filter(Treatment=="pharma") %>%
pull() %>%
length()
usa_pharma_num<- usa_df %>%
filter(Treatment=="pharma") %>%
pull() %>%
length()
usa_pharma_num<- usa_df %>%
filter(Treatment=="pharma") %>%
pull()
usa_pharma_num<- usa_df %>%
filter(Treatment=="pharma") %>%
pull(Treatment)
usa_pharma_num<- usa_df %>%
filter(Treatment=="pharma") %>%
pull(Treatment)
usa_pharma_num<- usa_df %>%
filter(Treatment=="pharma") %>%
pull(Treatment)
usa_pharma_num<- usa_df %>%
filter(Treatment=="pharma")
usa_pharma_num<- usa_df %>%
filter(Treatment=="Pharma")
usa_pharma_num<- usa_df %>%
filter(Treatment=="Pharma") %>%
nrow()
iran_pharma_num<-iran_df %>%
filter(Treatment=="Pharma") %>%
nrow()
View(iran_df)
##TREATMENT##
##Most common treatment type
##Most common drug used
##Number of different drugs used
num_drugs<-opioid_df %>%
pull(Treatment) %>%
unique()
##TREATMENT##
##Most common treatment type
##Most common drug used
##Number of different drugs used
num_drugs<-opioid_df %>%
pull(Treatment) %>%
unique() %>%
nrow()
##TREATMENT##
##Most common treatment type
##Most common drug used
##Number of different drugs used
num_drugs<-opioid_df %>%
pull(Treatment) %>%
unique()
##TREATMENT##
##Most common treatment type
##Most common drug used
##Number of different drugs used
num_drugs<-opioid_df %>%
pull(If.pharma) %>%
unique()
##TREATMENT##
##Most common treatment type
##Most common drug used
##Number of different drugs used
num_drugs<-opioid_df %>%
pull(If.pharma) %>%
unique() %>%
length()
##TREATMENT##
##Most common treatment type
methadone<- opioid_df %>%
str_detect("Methadone")
##TREATMENT##
##Most common treatment type
methadone<- opioid_df %>%
filter(If.pharma==starts_with("Methadone"))
##TREATMENT##
##Most common treatment type
methadone<- opioid_df %>%
select(If.pharma==starts_with("Methadone"))
##TREATMENT##
##Most common treatment type
methadone<- opioid_df %>%
select(starts_with("Methadone"))
##TREATMENT##
##Most common treatment type
methadone<- opioid_df %>%
select(starts_with("methadone"))
##TREATMENT##
##Most common treatment type
methadone<- opioid_df %>%
select(starts_with("methadone"))
##TREATMENT##
##Most common treatment type
methadone<- opioid_df %>%
select(starts_with("m"))
##TREATMENT##
##Most common treatment type
methadone<- opioid_df %>%
pull(If.pharma) %>%
select(starts_with("m"))
##TREATMENT##
##Most common treatment type
methadone<- opioid_df %>%
select(If.pharma)
##TREATMENT##
##Most common treatment type
methadone<- opioid_df %>%
select(If.pharma) %>%
select(starts_with("m"))
##TREATMENT##
##Most common treatment type
methadone<- opioid_df %>%
select(If.pharma)
View(methadone)
##TREATMENT##
##Most common treatment type
methadone<- opioid_df %>%
filter(grepl(('methadone',if.pharma)))
##TREATMENT##
##Most common treatment type
methadone<- opioid_df %>%
filter(grepl('methadone'))
##TREATMENT##
##Most common treatment type
methadone<- opioid_df %>%
filter(grepl('methadone',If.pharma))
##TREATMENT##
##Most common treatment type
methadone<- opioid_df %>%
filter(grepl('methadone',If.pharma)) %>%
nrow()
##TREATMENT##
##Most common treatment type
methadone<- opioid_df %>%
filter(grepl('methadone',If.pharma)) #%>%
View(methadone)
##TREATMENT##
##Most common treatment type
methadone<- opioid_df %>%
filter(grepl('methadone',If.pharma)) %>%
nrow()
buprenorphin<- opioid_df %>%
filter(grepl('buprenorphin',If.pharma)) %>%
nrow()
buprenorphin<- opioid_df %>%
filter(grepl('Buprenorphin',If.pharma)) %>%
nrow()
##TREATMENT##
##Types of treatment
treatments<- opioid_df %>%
pull(Treatment) %>%
unique()
##Most common drug used
##Number of different drugs used (done manually because I couldn't figure it out)
num_drugs<- 4
Naloxone<-opioid_df %>%
filter(grepl('Naloxone',If.pharma)) %>%
nrow()
Naltrexon<-opioid_df %>%
filter(grepl('Naltrexon',If.pharma)) %>%
nrow()
Clonidine<-opioid_df %>%
filter(grepl('Clonidine',If.pharma)) %>%
nrow()
drug_frequency_table<-data.frame("Drug"=("Methadone","Buprenorphin","Naloxone","Naltrexon","Clonidine"),
"Frequency"= methadone, buprenorphin, Naloxone, Naltrexon, Clonidine)
drug_frequency_table<-data.frame("Drug"=("Methadone","Buprenorphin","Naloxone","Naltrexon","Clonidine"),
"Frequency"= (methadone, buprenorphin, Naloxone, Naltrexon, Clonidine))
opioid_df %>%
filter(Citation=="Imani")
##SET UP________________________________________________________________________
##Library in packages
library("dplyr")
library("tidyverse")
opioid_df %>%
filter(Citation=="Imani")
opioid_df %>%
filter(Citation=="Imani")
opioid_df %>%
filter(Citation=="Imani")
opioid_df %>%
filter(Citation=="Imani")
opioid_df %>%
rename(Citation = Name)
opioid_df %>%
rename(Name = Citation)
View(opioid_df)
Opioid_df <- opioid_df %>%
rename(Name = Citation)
View(opioid_df)
Opioid_df <- opioid_df %>%
rename(Name = Citation)
opioid_df <- opioid_df %>%
rename(Name = Citation)
View(opioid_df)
opioid_df %>%
filter(Name=="Tofighi")
opioid_df %>%
filter(Name=="Knudsen")
opioid_df %>%
filter(Name=="Imani")
opioid_df %>%
filter(Name=="Imani et al.")
opioid_df %>%
pull(Name)
?data_frame
drug_freq_table<- data_frame("Drug" = c("Methadone","Buprenorphin","Naloxone","Naltrexon","Clonidine"),
"Freq"=c(methadone,buprenorphin,Naloxone,Naltrexon,Clonidine))
drug_freq_table<- tibble("Drug" = c("Methadone","Buprenorphin","Naloxone","Naltrexon","Clonidine"),
"Freq"=c(methadone,buprenorphin,Naloxone,Naltrexon,Clonidine))
View(drug_freq_table)
##Most common treatment type
combo<- opioid_df %>%
filter(grepl('Combo',Treatment)) %>%
nrow
##Most common treatment type
combo<- opioid_df %>%
filter(grepl('Combo',Treatment)) %>%
nrow()
pharmalogical<-opioid_df %>%
filter(grepl('Pharma',Treatment)) %>%
nrow()
mind<-opioid_df %>%
filter(grepl('mindfull',Treatment)) %>%
nrow()
pharmalogical<-opioid_df %>%
filter(grepl('Pharma',Treatment)) %>%
nrow()+1
pharmalogical<-opioid_df %>%
filter(grepl('Pharma',Treatment)) %>%
nrow()
##Number of studies that used only pharmacological treatments
print(pharmalogical)
##Number of studies that used combination of pharmacological and other treatments
print(combo)
##most common treatment in USA and then in Iran
methadone_usa<- usa_df %>%
filter(grepl('methadone',If.pharma)) %>%
nrow()
buprenorphin_usa<- usa_df %>%
filter(grepl('Buprenorphin',If.pharma)) %>%
nrow()
Naloxone_usa<-usa_df %>%
filter(grepl('Naloxone',If.pharma)) %>%
nrow()
Naltrexon_usa<-usa_df %>%
filter(grepl('Naltrexon',If.pharma)) %>%
nrow()
Clonidine_usa<-usa_df %>%
filter(grepl('Clonidine',If.pharma)) %>%
nrow()
drug_freq_table_usa<- tibble("Drug" = c("Methadone","Buprenorphin","Naloxone","Naltrexon","Clonidine"),
"Freq"=c(methadone_usa,buprenorphin_usa,Naloxone_usa,Naltrexon_usa,
Clonidine_usa))
View(drug_freq_table_usa)
print(drug_freq_table_usa)
drug_freq_table_iran<- tibble("Drug" = c("Methadone","Buprenorphin","Naloxone","Naltrexon","Clonidine"),
"Freq"=c(methadone_iran,buprenorphin_iran,Naloxone_iran,Naltrexon_iran,
Clonidine_iran))
methadone_iran<- iran_df %>%
filter(grepl('methadone',If.pharma)) %>%
nrow()
buprenorphin_iran<- iran_df %>%
filter(grepl('Buprenorphin',If.pharma)) %>%
nrow()
Naloxone_iran<-iran_df %>%
filter(grepl('Naloxone',If.pharma)) %>%
nrow()
Naltrexon_iran<-iran_df %>%
filter(grepl('Naltrexon',If.pharma)) %>%
nrow()
Clonidine_iran<-iran_df %>%
filter(grepl('Clonidine',If.pharma)) %>%
nrow()
drug_freq_table_iran<- tibble("Drug" = c("Methadone","Buprenorphin","Naloxone","Naltrexon","Clonidine"),
"Freq"=c(methadone_iran,buprenorphin_iran,Naloxone_iran,Naltrexon_iran,
Clonidine_iran))
print(drug_freq_table_iran)
print(drug_freq_table_usa)
##Most common treatment in USA and then in Iran
combo_usa<- usa_df %>%
filter(grepl('Combo',Treatment)) %>%
nrow()
pharmalogical_usa<-usa_df %>%
filter(grepl('Pharma',Treatment)) %>%
nrow()+1 ##+1 because UROD is pharmacological but also a new treatment style
##so it should be included as both its own thing and as a pharma treatment
mind_usa<-usa_df %>%
filter(grepl('mindfull',Treatment)) %>%
nrow()
treatment_freq_table_usa<- tibble("Treatment" = c("Combonation","Pharmacological","Mindfullness"),
"Freq"=c(combo_usa,pharmalogical_usa,mind_usa))
print(treatment_freq_table_usa)
pharmalogical_usa<-usa_df %>%
filter(grepl('Pharma',Treatment)) %>%
nrow()
treatment_freq_table_usa<- tibble("Treatment" = c("Combonation","Pharmacological","Mindfullness"),
"Freq"=c(combo_usa,pharmalogical_usa,mind_usa))
print(treatment_freq_table_usa)
treatment_freq_table_iran<- tibble("Treatment" = c("Combonation","Pharmacological","Mindfullness"),
"Freq"=c(combo_iran,pharmalogical_iran,mind_iran))
combo_iran<- iran_df %>%
filter(grepl('Combo',Treatment)) %>%
nrow()
pharmalogical_iran<-iran_df %>%
filter(grepl('Pharma',Treatment)) %>%
nrow()
mind_iran<-iran_df %>%
filter(grepl('mindfull',Treatment)) %>%
nrow()
treatment_freq_table_iran<- tibble("Treatment" = c("Combonation","Pharmacological","Mindfullness"),
"Freq"=c(combo_iran,pharmalogical_iran,mind_iran))
print(treatment_freq_table_iran)
##SAMPLE SIZE ##
sample_range<-range(opioid_df$Sample.Size, na.rm = TRUE)
##SAMPLE SIZE ##
sample_range<-range(opioid_df$Sample.Size, na.rm = TRUE)
sample_size<- opioid_df %>%
pull(Sample.Size)
##SAMPLE SIZE ##
sample_range<-range(sample_size, na.rm = TRUE)
##SAMPLE SIZE ##
sample_range<-range(sample_size, na.rm = TRUE)
is.numeric(sample_size)
as.numeric(sample_size)
##SAMPLE SIZE ##
sample_range<-range(sample_size, na.rm = TRUE)
sample_size<-as.numeric(sample_size)
##SAMPLE SIZE ##
sample_range<-range(sample_size, na.rm = TRUE)
opioid_df$Sample.Size <- as.numeric(gsub(",","",opioid_df$Sample.Size))
View(opioid_df)
##Remove commas and change to numeric for sample size
opioid_df$Sample.Size <- as.numeric(gsub(",","",opioid_df$Sample.Size))
##SAMPLE SIZE ##
samp_range<- range(opioid_df$Sample.Size, na.rm = TRUE)
##AGE##
age_lowest<- opioid_df %>%
filter(Age.low==min(Age.low))
##AGE##
age_lowest<- opioid_df %>%
filter(Age.low==min(Age.low)) %>%
pull(Age.low)
##AGE##
age_lowest<- opioid_df %>%
pull(Age.low)
youngest<-min(age_lowest)
youngest<-min(age_lowest, na.rm = TRUE)
age_highest<- opioid_df %>%
pull(Age.high)
oldest<-max(age_highest)
oldest<-max(age_highest, na.rm = TRUE)
##IRAN SPECIFIC QUESTIONS##
##Number of participants from iran
iran_df %>%
summarise(sum(Sample.Size))
iran_df$Sample.Size <- as.numeric(gsub(",","",iran_df$Sample.Size))
usa_df$Sample.Size <- as.numeric(gsub(",","",usa_df$Sample.Size))
##IRAN SPECIFIC QUESTIONS##
##Number of participants from iran
iran_df %>%
summarise(sum(Sample.Size))
##IRAN SPECIFIC QUESTIONS##_____________________________________________________
##Number of participants from iran
participants_iran<-iran_df %>%
summarise(sum(Sample.Size))
##USA SPECIFIC QUESTIONS##______________________________________________________
##Participants from usa
participants_usa<-usa_df %>%
summarise(sum(Sample.Size))
##USA SPECIFIC QUESTIONS##______________________________________________________
##Participants from usa
participants_usa<-usa_df %>%
summarise(sum(Sample.Size))
print(participants_usa)
##USA SPECIFIC QUESTIONS##______________________________________________________
##Participants from usa
participants_usa<-usa_df %>%
summarise(sum(Sample.Size, na.rm = TRUE))
##USA SPECIFIC QUESTIONS##______________________________________________________
##Participants from usa
participants_usa<-usa_df %>%
summarise(sum(Sample.Size, na.rm = TRUE))
##USA SPECIFIC QUESTIONS##______________________________________________________
##Participants from usa
participants_usa<-usa_df %>%
summarise(sum(Sample.Size, na.rm = TRUE))
print(participants_usa)
##Ages from iran
ages_iran<-iran_df %>%
pull(age_lowest) %>%
min()
##Ages from iran
ages_iran<-iran_df %>%
pull(age_lowest)
##Ages from iran
ages_iran<-iran_df %>%
pull(age_lowest)
##Ages from iran
ages_iran<-iran_df %>%
filter(age_lowest==min(age_lowest))
##Ages from iran
View(iran_df)
#ages usa
View(usa_df)
##EFFICACY##
##efficacy of pharma
eff_df<-opioid_df
eff_df$effective<- c("inconclusive","inconclusive","yes","yes","yes","yes","yes","yes","inconclusive",
"yes","inconclusive","yes","yes","yes","no","inconclusive","yes","yes")
View(eff_df)
pharma_table<-eff_df %>%
filter(Treatment=="Pharma")
pharma_table<-eff_df %>%
filter(Treatment=="Pharma") %>%
filter(effective=="yes")
view(pharma_table)
combo_table<-eff_df %>%
filter(Treatment=="Combo") %>%
filter(effective=="yes")
View(combo_table)
combo_table<-eff_df %>%
filter(Treatment=="Combo") %>%
filter(effective=="inconclusive")
View(combo_table)
combo_table<-eff_df %>%
filter(Treatment=="Combo") %>%
filter(effective=="no")
View(combo_table)
combo_table<-eff_df %>%
filter(Treatment=="combo") %>%
filter(effective=="no")
View(combo_table)
combo_table<-eff_df %>%
filter(Treatment=="combo") %>%
filter(effective=="yes")
View(combo_table)
combo_table<-eff_df %>%
filter(Treatment=="combo")
View(combo_table)
combo_table<-eff_df %>%
filter(Treatment=="Combo")
View(combo_table)
View(eff_df)
combo_table<-eff_df %>%
filter(Treatment=="Combonation") %>%
filter(effective=="yes")
num_effective<- eff_df %>%
filter(effective=="yes") %>%
nrow()
mindfull_table<-eff_df %>%
filter(Treatment=="mindfull") %>%
filter(effective=="yes")
##Number of efffective for each drug
meth_eff<-pharma_table %>%
filter(If.pharma=="methadone") %>%
nrow()
##Number of efffective for each drug
meth_eff<-pharma_table %>%
filter(grepl('methadone',If.pharma)) %>%
nrow()
##Number that were inconclusive
inconclusive_df<-eff_df %>%
filter(grepl('inconclusive',effective))
##Number that were not effective
not_eff<-eff_df %>%
filter(grepl('no',effective))
View(not_eff)
bup_eff<-pharma_table %>%
filter(grepl("bup",If.pharma)) %>%
nrow()
bup_eff<-pharma_table %>%
filter(grepl("Buprenorphin",If.pharma)) %>%
nrow()
naloxone_eff<-pharma_table %>%
filter(grepl('Naloxone',If.pharma)) %>%
nrow()
##number that used pharma and were incon
pharma_incon<- inconclusive_df %>%
filter(grepl('Pharma',Treatment))
##number that used pharma and were incon
pharma_incon<- inconclusive_df %>%
filter(grepl('Pharma',Treatment)) %>%
nrow()
combo_incon<- inconclusive_df %>%
filter(grepl('Combonation',Treatment)) %>%
nrow()
View(inconclusive_df)
